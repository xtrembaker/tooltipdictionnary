/*! jQuery UI - v1.11.0-beta.2 - 2014-06-19
* http://jqueryui.com
* Includes: core.js, widget.js, position.js, tooltip.js
* Copyright 2014 jQuery Foundation and other contributors; Licensed MIT */

(function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)})(function(e){function t(t,r){var i,n,o,s=t.nodeName.toLowerCase();return"area"===s?(i=t.parentNode,n=i.name,t.href&&n&&"map"===i.nodeName.toLowerCase()?(o=e("img[usemap=#"+n+"]")[0],!!o&&a(o)):!1):(/input|select|textarea|button|object/.test(s)?!t.disabled:"a"===s?t.href||r:r)&&a(t)}function a(t){return e.expr.filters.visible(t)&&!e(t).parents().addBack().filter(function(){return"hidden"===e.css(this,"visibility")}).length}e.ui=e.ui||{},e.extend(e.ui,{version:"1.11.0-beta.2",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),e.fn.extend({scrollParent:function(){var t=this.css("position"),a="absolute"===t,r=this.parents().filter(function(){var t=e(this);return a&&"static"===t.css("position")?!1:/(auto|scroll)/.test(t.css("overflow")+t.css("overflow-y")+t.css("overflow-x"))}).eq(0);return"fixed"!==t&&r.length?r:e(this[0].ownerDocument||document)},uniqueId:function(){var e=0;return function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++e)})}}(),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&e(this).removeAttr("id")})}}),e.extend(e.expr[":"],{data:e.expr.createPseudo?e.expr.createPseudo(function(t){return function(a){return!!e.data(a,t)}}):function(t,a,r){return!!e.data(t,r[3])},focusable:function(a){return t(a,!isNaN(e.attr(a,"tabindex")))},tabbable:function(a){var r=e.attr(a,"tabindex"),i=isNaN(r);return(i||r>=0)&&t(a,!i)}}),e("<a>").outerWidth(1).jquery||e.each(["Width","Height"],function(t,a){function r(t,a,r,n){return e.each(i,function(){a-=parseFloat(e.css(t,"padding"+this))||0,r&&(a-=parseFloat(e.css(t,"border"+this+"Width"))||0),n&&(a-=parseFloat(e.css(t,"margin"+this))||0)}),a}var i="Width"===a?["Left","Right"]:["Top","Bottom"],n=a.toLowerCase(),o={innerWidth:e.fn.innerWidth,innerHeight:e.fn.innerHeight,outerWidth:e.fn.outerWidth,outerHeight:e.fn.outerHeight};e.fn["inner"+a]=function(t){return void 0===t?o["inner"+a].call(this):this.each(function(){e(this).css(n,r(this,t)+"px")})},e.fn["outer"+a]=function(t,i){return"number"!=typeof t?o["outer"+a].call(this,t):this.each(function(){e(this).css(n,r(this,t,!0,i)+"px")})}}),e.fn.addBack||(e.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),e("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(e.fn.removeData=function(t){return function(a){return arguments.length?t.call(this,e.camelCase(a)):t.call(this)}}(e.fn.removeData)),e.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),e.fn.extend({focus:function(t){return function(a,r){return"number"==typeof a?this.each(function(){var t=this;setTimeout(function(){e(t).focus(),r&&r.call(t)},a)}):t.apply(this,arguments)}}(e.fn.focus),disableSelection:function(){var e="onselectstart"in document.createElement("div")?"selectstart":"mousedown";return function(){return this.bind(e+".ui-disableSelection",function(e){e.preventDefault()})}}(),enableSelection:function(){return this.unbind(".ui-disableSelection")},zIndex:function(t){if(void 0!==t)return this.css("zIndex",t);if(this.length)for(var a,r,i=e(this[0]);i.length&&i[0]!==document;){if(a=i.css("position"),("absolute"===a||"relative"===a||"fixed"===a)&&(r=parseInt(i.css("zIndex"),10),!isNaN(r)&&0!==r))return r;i=i.parent()}return 0}}),e.ui.plugin={add:function(t,a,r){var i,n=e.ui[t].prototype;for(i in r)n.plugins[i]=n.plugins[i]||[],n.plugins[i].push([a,r[i]])},call:function(e,t,a,r){var i,n=e.plugins[t];if(n&&(r||e.element[0].parentNode&&11!==e.element[0].parentNode.nodeType))for(i=0;n.length>i;i++)e.options[n[i][0]]&&n[i][1].apply(e.element,a)}};var r=0,i=Array.prototype.slice;e.cleanData=function(t){return function(a){for(var r,i=0;null!=(r=a[i]);i++)try{e(r).triggerHandler("remove")}catch(n){}t(a)}}(e.cleanData),e.widget=function(t,a,r){var i,n,o,s,d={},m=t.split(".")[0];return t=t.split(".")[1],i=m+"-"+t,r||(r=a,a=e.Widget),e.expr[":"][i.toLowerCase()]=function(t){return!!e.data(t,i)},e[m]=e[m]||{},n=e[m][t],o=e[m][t]=function(e,t){return this._createWidget?(arguments.length&&this._createWidget(e,t),void 0):new o(e,t)},e.extend(o,n,{version:r.version,_proto:e.extend({},r),_childConstructors:[]}),s=new a,s.options=e.widget.extend({},s.options),e.each(r,function(t,r){return e.isFunction(r)?(d[t]=function(){var e=function(){return a.prototype[t].apply(this,arguments)},i=function(e){return a.prototype[t].apply(this,e)};return function(){var t,a=this._super,n=this._superApply;return this._super=e,this._superApply=i,t=r.apply(this,arguments),this._super=a,this._superApply=n,t}}(),void 0):(d[t]=r,void 0)}),o.prototype=e.widget.extend(s,{widgetEventPrefix:n?s.widgetEventPrefix||t:t},d,{constructor:o,namespace:m,widgetName:t,widgetFullName:i}),n?(e.each(n._childConstructors,function(t,a){var r=a.prototype;e.widget(r.namespace+"."+r.widgetName,o,a._proto)}),delete n._childConstructors):a._childConstructors.push(o),e.widget.bridge(t,o),o},e.widget.extend=function(t){for(var a,r,n=i.call(arguments,1),o=0,s=n.length;s>o;o++)for(a in n[o])r=n[o][a],n[o].hasOwnProperty(a)&&void 0!==r&&(t[a]=e.isPlainObject(r)?e.isPlainObject(t[a])?e.widget.extend({},t[a],r):e.widget.extend({},r):r);return t},e.widget.bridge=function(t,a){var r=a.prototype.widgetFullName||t;e.fn[t]=function(n){var o="string"==typeof n,s=i.call(arguments,1),d=this;return n=!o&&s.length?e.widget.extend.apply(null,[n].concat(s)):n,o?this.each(function(){var a,i=e.data(this,r);return"instance"===n?(d=i,!1):i?e.isFunction(i[n])&&"_"!==n.charAt(0)?(a=i[n].apply(i,s),a!==i&&void 0!==a?(d=a&&a.jquery?d.pushStack(a.get()):a,!1):void 0):e.error("no such method '"+n+"' for "+t+" widget instance"):e.error("cannot call methods on "+t+" prior to initialization; "+"attempted to call method '"+n+"'")}):this.each(function(){var t=e.data(this,r);t?(t.option(n||{}),t._init&&t._init()):e.data(this,r,new a(n,this))}),d}},e.Widget=function(){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(t,a){a=e(a||this.defaultElement||this)[0],this.element=e(a),this.uuid=r++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=e.widget.extend({},this.options,this._getCreateOptions(),t),this.bindings=e(),this.hoverable=e(),this.focusable=e(),a!==this&&(e.data(a,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===a&&this.destroy()}}),this.document=e(a.style?a.ownerDocument:a.document||a),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:e.noop,_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(e.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled "+"ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:e.noop,widget:function(){return this.element},option:function(t,a){var r,i,n,o=t;if(0===arguments.length)return e.widget.extend({},this.options);if("string"==typeof t)if(o={},r=t.split("."),t=r.shift(),r.length){for(i=o[t]=e.widget.extend({},this.options[t]),n=0;r.length-1>n;n++)i[r[n]]=i[r[n]]||{},i=i[r[n]];if(t=r.pop(),1===arguments.length)return void 0===i[t]?null:i[t];i[t]=a}else{if(1===arguments.length)return void 0===this.options[t]?null:this.options[t];o[t]=a}return this._setOptions(o),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return this.options[e]=t,"disabled"===e&&(this.widget().toggleClass(this.widgetFullName+"-disabled",!!t),t&&(this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus"))),this},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_on:function(t,a,r){var i,n=this;"boolean"!=typeof t&&(r=a,a=t,t=!1),r?(a=i=e(a),this.bindings=this.bindings.add(a)):(r=a,a=this.element,i=this.widget()),e.each(r,function(r,o){function s(){return t||n.options.disabled!==!0&&!e(this).hasClass("ui-state-disabled")?("string"==typeof o?n[o]:o).apply(n,arguments):void 0}"string"!=typeof o&&(s.guid=o.guid=o.guid||s.guid||e.guid++);var d=r.match(/^([\w:-]*)\s*(.*)$/),m=d[1]+n.eventNamespace,u=d[2];u?i.delegate(u,m,s):a.bind(m,s)})},_off:function(e,t){t=(t||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.unbind(t).undelegate(t)},_delay:function(e,t){function a(){return("string"==typeof e?r[e]:e).apply(r,arguments)}var r=this;return setTimeout(a,t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){e(t.currentTarget).addClass("ui-state-hover")},mouseleave:function(t){e(t.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){e(t.currentTarget).addClass("ui-state-focus")},focusout:function(t){e(t.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(t,a,r){var i,n,o=this.options[t];if(r=r||{},a=e.Event(a),a.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),a.target=this.element[0],n=a.originalEvent)for(i in n)i in a||(a[i]=n[i]);return this.element.trigger(a,r),!(e.isFunction(o)&&o.apply(this.element[0],[a].concat(r))===!1||a.isDefaultPrevented())}},e.each({show:"fadeIn",hide:"fadeOut"},function(t,a){e.Widget.prototype["_"+t]=function(r,i,n){"string"==typeof i&&(i={effect:i});var o,s=i?i===!0||"number"==typeof i?a:i.effect||a:t;i=i||{},"number"==typeof i&&(i={duration:i}),o=!e.isEmptyObject(i),i.complete=n,i.delay&&r.delay(i.delay),o&&e.effects&&e.effects.effect[s]?r[t](i):s!==t&&r[s]?r[s](i.duration,i.easing,n):r.queue(function(a){e(this)[t](),n&&n.call(r[0]),a()})}}),e.widget,function(){function t(e,t,a){return[parseFloat(e[0])*(c.test(e[0])?t/100:1),parseFloat(e[1])*(c.test(e[1])?a/100:1)]}function a(t,a){return parseInt(e.css(t,a),10)||0}function r(t){var a=t[0];return 9===a.nodeType?{width:t.width(),height:t.height(),offset:{top:0,left:0}}:e.isWindow(a)?{width:t.width(),height:t.height(),offset:{top:t.scrollTop(),left:t.scrollLeft()}}:a.preventDefault?{width:0,height:0,offset:{top:a.pageY,left:a.pageX}}:{width:t.outerWidth(),height:t.outerHeight(),offset:t.offset()}}e.ui=e.ui||{};var i,n,o=Math.max,s=Math.abs,d=Math.round,m=/left|center|right/,u=/top|center|bottom/,h=/[\+\-]\d+(\.[\d]+)?%?/,l=/^\w+/,c=/%$/,y=e.fn.position;e.position={scrollbarWidth:function(){if(void 0!==i)return i;var t,a,r=e("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),n=r.children()[0];return e("body").append(r),t=n.offsetWidth,r.css("overflow","scroll"),a=n.offsetWidth,t===a&&(a=r[0].clientWidth),r.remove(),i=t-a},getScrollInfo:function(t){var a=t.isWindow||t.isDocument?"":t.element.css("overflow-x"),r=t.isWindow||t.isDocument?"":t.element.css("overflow-y"),i="scroll"===a||"auto"===a&&t.width<t.element[0].scrollWidth,n="scroll"===r||"auto"===r&&t.height<t.element[0].scrollHeight;return{width:n?e.position.scrollbarWidth():0,height:i?e.position.scrollbarWidth():0}},getWithinInfo:function(t){var a=e(t||window),r=e.isWindow(a[0]),i=!!a[0]&&9===a[0].nodeType;return{element:a,isWindow:r,isDocument:i,offset:a.offset()||{left:0,top:0},scrollLeft:a.scrollLeft(),scrollTop:a.scrollTop(),width:r?a.width():a.outerWidth(),height:r?a.height():a.outerHeight()}}},e.fn.position=function(i){if(!i||!i.of)return y.apply(this,arguments);i=e.extend({},i);var c,f,p,x,g,T,S=e(i.of),k=e.position.getWithinInfo(i.within),N=e.position.getScrollInfo(k),M=(i.collision||"flip").split(" "),b={};return T=r(S),S[0].preventDefault&&(i.at="left top"),f=T.width,p=T.height,x=T.offset,g=e.extend({},x),e.each(["my","at"],function(){var e,t,a=(i[this]||"").split(" ");1===a.length&&(a=m.test(a[0])?a.concat(["center"]):u.test(a[0])?["center"].concat(a):["center","center"]),a[0]=m.test(a[0])?a[0]:"center",a[1]=u.test(a[1])?a[1]:"center",e=h.exec(a[0]),t=h.exec(a[1]),b[this]=[e?e[0]:0,t?t[0]:0],i[this]=[l.exec(a[0])[0],l.exec(a[1])[0]]}),1===M.length&&(M[1]=M[0]),"right"===i.at[0]?g.left+=f:"center"===i.at[0]&&(g.left+=f/2),"bottom"===i.at[1]?g.top+=p:"center"===i.at[1]&&(g.top+=p/2),c=t(b.at,f,p),g.left+=c[0],g.top+=c[1],this.each(function(){var r,m,u=e(this),h=u.outerWidth(),l=u.outerHeight(),y=a(this,"marginLeft"),T=a(this,"marginTop"),v=h+y+a(this,"marginRight")+N.width,D=l+T+a(this,"marginBottom")+N.height,A=e.extend({},g),j=t(b.my,u.outerWidth(),u.outerHeight());"right"===i.my[0]?A.left-=h:"center"===i.my[0]&&(A.left-=h/2),"bottom"===i.my[1]?A.top-=l:"center"===i.my[1]&&(A.top-=l/2),A.left+=j[0],A.top+=j[1],n||(A.left=d(A.left),A.top=d(A.top)),r={marginLeft:y,marginTop:T},e.each(["left","top"],function(t,a){e.ui.position[M[t]]&&e.ui.position[M[t]][a](A,{targetWidth:f,targetHeight:p,elemWidth:h,elemHeight:l,collisionPosition:r,collisionWidth:v,collisionHeight:D,offset:[c[0]+j[0],c[1]+j[1]],my:i.my,at:i.at,within:k,elem:u})}),i.using&&(m=function(e){var t=x.left-A.left,a=t+f-h,r=x.top-A.top,n=r+p-l,d={target:{element:S,left:x.left,top:x.top,width:f,height:p},element:{element:u,left:A.left,top:A.top,width:h,height:l},horizontal:0>a?"left":t>0?"right":"center",vertical:0>n?"top":r>0?"bottom":"middle"};h>f&&f>s(t+a)&&(d.horizontal="center"),l>p&&p>s(r+n)&&(d.vertical="middle"),d.important=o(s(t),s(a))>o(s(r),s(n))?"horizontal":"vertical",i.using.call(this,e,d)}),u.offset(e.extend(A,{using:m}))})},e.ui.position={fit:{left:function(e,t){var a,r=t.within,i=r.isWindow?r.scrollLeft:r.offset.left,n=r.width,s=e.left-t.collisionPosition.marginLeft,d=i-s,m=s+t.collisionWidth-n-i;t.collisionWidth>n?d>0&&0>=m?(a=e.left+d+t.collisionWidth-n-i,e.left+=d-a):e.left=m>0&&0>=d?i:d>m?i+n-t.collisionWidth:i:d>0?e.left+=d:m>0?e.left-=m:e.left=o(e.left-s,e.left)},top:function(e,t){var a,r=t.within,i=r.isWindow?r.scrollTop:r.offset.top,n=t.within.height,s=e.top-t.collisionPosition.marginTop,d=i-s,m=s+t.collisionHeight-n-i;t.collisionHeight>n?d>0&&0>=m?(a=e.top+d+t.collisionHeight-n-i,e.top+=d-a):e.top=m>0&&0>=d?i:d>m?i+n-t.collisionHeight:i:d>0?e.top+=d:m>0?e.top-=m:e.top=o(e.top-s,e.top)}},flip:{left:function(e,t){var a,r,i=t.within,n=i.offset.left+i.scrollLeft,o=i.width,d=i.isWindow?i.scrollLeft:i.offset.left,m=e.left-t.collisionPosition.marginLeft,u=m-d,h=m+t.collisionWidth-o-d,l="left"===t.my[0]?-t.elemWidth:"right"===t.my[0]?t.elemWidth:0,c="left"===t.at[0]?t.targetWidth:"right"===t.at[0]?-t.targetWidth:0,y=-2*t.offset[0];0>u?(a=e.left+l+c+y+t.collisionWidth-o-n,(0>a||s(u)>a)&&(e.left+=l+c+y)):h>0&&(r=e.left-t.collisionPosition.marginLeft+l+c+y-d,(r>0||h>s(r))&&(e.left+=l+c+y))},top:function(e,t){var a,r,i=t.within,n=i.offset.top+i.scrollTop,o=i.height,d=i.isWindow?i.scrollTop:i.offset.top,m=e.top-t.collisionPosition.marginTop,u=m-d,h=m+t.collisionHeight-o-d,l="top"===t.my[1],c=l?-t.elemHeight:"bottom"===t.my[1]?t.elemHeight:0,y="top"===t.at[1]?t.targetHeight:"bottom"===t.at[1]?-t.targetHeight:0,f=-2*t.offset[1];0>u?(r=e.top+c+y+f+t.collisionHeight-o-n,e.top+c+y+f>u&&(0>r||s(u)>r)&&(e.top+=c+y+f)):h>0&&(a=e.top-t.collisionPosition.marginTop+c+y+f-d,e.top+c+y+f>h&&(a>0||h>s(a))&&(e.top+=c+y+f))}},flipfit:{left:function(){e.ui.position.flip.left.apply(this,arguments),e.ui.position.fit.left.apply(this,arguments)},top:function(){e.ui.position.flip.top.apply(this,arguments),e.ui.position.fit.top.apply(this,arguments)}}},function(){var t,a,r,i,o,s=document.getElementsByTagName("body")[0],d=document.createElement("div");t=document.createElement(s?"div":"body"),r={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},s&&e.extend(r,{position:"absolute",left:"-1000px",top:"-1000px"});for(o in r)t.style[o]=r[o];t.appendChild(d),a=s||document.documentElement,a.insertBefore(t,a.firstChild),d.style.cssText="position: absolute; left: 10.7432222px;",i=e(d).offset().left,n=i>10&&11>i,t.innerHTML="",a.removeChild(t)}()}(),e.ui.position,e.widget("ui.tooltip",{version:"1.11.0-beta.2",options:{content:function(){var t=e(this).attr("title")||"";return e("<a>").text(t).html()},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,tooltipClass:null,track:!1,close:null,open:null},_addDescribedBy:function(t,a){var r=(t.attr("aria-describedby")||"").split(/\s+/);r.push(a),t.data("ui-tooltip-id",a).attr("aria-describedby",e.trim(r.join(" ")))},_removeDescribedBy:function(t){var a=t.data("ui-tooltip-id"),r=(t.attr("aria-describedby")||"").split(/\s+/),i=e.inArray(a,r);-1!==i&&r.splice(i,1),t.removeData("ui-tooltip-id"),r=e.trim(r.join(" ")),r?t.attr("aria-describedby",r):t.removeAttr("aria-describedby")},_create:function(){this._on({mouseover:"open",focusin:"open"}),this.tooltips={},this.parents={},this.options.disabled&&this._disable(),this.liveRegion=e("<div>").attr({role:"log","aria-live":"assertive","aria-relevant":"additions"}).addClass("ui-helper-hidden-accessible").appendTo(this.document[0].body)},_setOption:function(t,a){var r=this;return"disabled"===t?(this[a?"_disable":"_enable"](),this.options[t]=a,void 0):(this._super(t,a),"content"===t&&e.each(this.tooltips,function(e,t){r._updateContent(t)}),void 0)},_disable:function(){var t=this;e.each(this.tooltips,function(a,r){var i=e.Event("blur");i.target=i.currentTarget=r[0],t.close(i,!0)}),this.element.find(this.options.items).addBack().each(function(){var t=e(this);t.is("[title]")&&t.data("ui-tooltip-title",t.attr("title")).removeAttr("title")})},_enable:function(){this.element.find(this.options.items).addBack().each(function(){var t=e(this);t.data("ui-tooltip-title")&&t.attr("title",t.data("ui-tooltip-title"))})},open:function(t){var a=this,r=e(t?t.target:this.element).closest(this.options.items);r.length&&!r.data("ui-tooltip-id")&&(r.attr("title")&&r.data("ui-tooltip-title",r.attr("title")),r.data("ui-tooltip-open",!0),t&&"mouseover"===t.type&&r.parents().each(function(){var t,r=e(this);r.data("ui-tooltip-open")&&(t=e.Event("blur"),t.target=t.currentTarget=this,a.close(t,!0)),r.attr("title")&&(r.uniqueId(),a.parents[this.id]={element:this,title:r.attr("title")},r.attr("title",""))}),this._updateContent(r,t))},_updateContent:function(e,t){var a,r=this.options.content,i=this,n=t?t.type:null;return"string"==typeof r?this._open(t,e,r):(a=r.call(e[0],function(a){e.data("ui-tooltip-open")&&i._delay(function(){t&&(t.type=n),this._open(t,e,a)})}),a&&this._open(t,e,a),void 0)},_open:function(t,a,r){function i(e){m.of=e,n.is(":hidden")||n.position(m)}var n,o,s,d,m=e.extend({},this.options.position);if(r){if(n=this._find(a),n.length)return n.find(".ui-tooltip-content").html(r),void 0;a.is("[title]")&&(t&&"mouseover"===t.type?a.attr("title",""):a.removeAttr("title")),n=this._tooltip(a),this._addDescribedBy(a,n.attr("id")),n.find(".ui-tooltip-content").html(r),this.liveRegion.children().hide(),r.clone?(d=r.clone(),d.removeAttr("id").find("[id]").removeAttr("id")):d=r,e("<div>").html(d).appendTo(this.liveRegion),this.options.track&&t&&/^mouse/.test(t.type)?(this._on(this.document,{mousemove:i}),i(t)):n.position(e.extend({of:a},this.options.position)),n.hide(),this._show(n,this.options.show),this.options.show&&this.options.show.delay&&(s=this.delayedShow=setInterval(function(){n.is(":visible")&&(i(m.of),clearInterval(s))},e.fx.interval)),this._trigger("open",t,{tooltip:n}),o={keyup:function(t){if(t.keyCode===e.ui.keyCode.ESCAPE){var r=e.Event(t);r.currentTarget=a[0],this.close(r,!0)}}},a[0]!==this.element[0]&&(o.remove=function(){this._removeTooltip(n)}),t&&"mouseover"!==t.type||(o.mouseleave="close"),t&&"focusin"!==t.type||(o.focusout="close"),this._on(!0,a,o)}},close:function(t){var a=this,r=e(t?t.currentTarget:this.element),i=this._find(r);this.closing||(clearInterval(this.delayedShow),r.data("ui-tooltip-title")&&!r.attr("title")&&r.attr("title",r.data("ui-tooltip-title")),this._removeDescribedBy(r),i.stop(!0),this._hide(i,this.options.hide,function(){a._removeTooltip(e(this))}),r.removeData("ui-tooltip-open"),this._off(r,"mouseleave focusout keyup"),r[0]!==this.element[0]&&this._off(r,"remove"),this._off(this.document,"mousemove"),t&&"mouseleave"===t.type&&e.each(this.parents,function(t,r){e(r.element).attr("title",r.title),delete a.parents[t]}),this.closing=!0,this._trigger("close",t,{tooltip:i}),this.closing=!1)},_tooltip:function(t){var a=e("<div>").attr("role","tooltip").addClass("ui-tooltip ui-widget ui-corner-all ui-widget-content "+(this.options.tooltipClass||"")),r=a.uniqueId().attr("id");return e("<div>").addClass("ui-tooltip-content").appendTo(a),a.appendTo(this.document[0].body),this.tooltips[r]=t,a},_find:function(t){var a=t.data("ui-tooltip-id");return a?e("#"+a):e()},_removeTooltip:function(e){e.remove(),delete this.tooltips[e.attr("id")]},_destroy:function(){var t=this;e.each(this.tooltips,function(a,r){var i=e.Event("blur");i.target=i.currentTarget=r[0],t.close(i,!0),e("#"+a).remove(),r.data("ui-tooltip-title")&&(r.attr("title")||r.attr("title",r.data("ui-tooltip-title")),r.removeData("ui-tooltip-title"))}),this.liveRegion.remove()}})});